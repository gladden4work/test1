<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2em; }
        label { display: block; margin-top: 0.5em; }
        button { margin-top: 1em; }
        input[type='number'] { width: 4em; }
    </style>
</head>
<body>
    <h1>Password Generator</h1>
    <label>
        Length:
        <input type="number" id="length" min="1" value="12">
    </label>
    <label><input type="checkbox" id="lowercase" checked> Include lowercase</label>
    <label><input type="checkbox" id="uppercase" checked> Include uppercase</label>
    <label><input type="checkbox" id="digits" checked> Include digits</label>
    <label><input type="checkbox" id="symbols" checked> Include symbols</label>
    <button id="generate">Generate</button>
    <p id="result"></p>

    <script>
    function getRandomChar(characters) {
        const array = new Uint32Array(1);
        window.crypto.getRandomValues(array);
        return characters[array[0] % characters.length];
    }

    function generatePassword() {
        const length = parseInt(document.getElementById('length').value, 10);
        const useLower = document.getElementById('lowercase').checked;
        const useUpper = document.getElementById('uppercase').checked;
        const useDigits = document.getElementById('digits').checked;
        const useSymbols = document.getElementById('symbols').checked;

        let characters = '';
        if (useLower) characters += 'abcdefghijklmnopqrstuvwxyz';
        if (useUpper) characters += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        if (useDigits) characters += '0123456789';
        if (useSymbols) characters += '!"#$%&\'()*+,-./:;<=>?@[\\]^_`{|}~';

        if (!characters) {
            alert('Please select at least one character type.');
            return;
        }

        let password = '';
        for (let i = 0; i < length; i++) {
            password += getRandomChar(characters);
        }
        document.getElementById('result').textContent = password;
    }

    document.getElementById('generate').addEventListener('click', generatePassword);
    </script>
</body>
</html>
